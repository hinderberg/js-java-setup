<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=$sourceEncoding$">
    <title>Jasmine Spec Runner</title>
    $cssDependencies$
    $javascriptDependencies$
    <script type="text/javascript" src="$requirejsPath$"></script>
</head>
<body>
<script type="text/javascript">
    if(window.location.href.indexOf("ManualSpecRunner.html") !== -1) {
        document.body.appendChild(document.createTextNode("Warning: opening this HTML file directly from the file system is deprecated. You should instead try running `mvn jasmine:bdd` from the command line, and then visit `http://localhost:8234` in your browser. "))
    }

    // Eval is needed because spec variable can be NOTHING, and the output will be ; and break the javascript
    var specs = eval($specs$);

    if ("$reporter$" === "JsApiReporter") {
        // mvn test
        testPath = "../../../src/";
    } else {
        // mvn jasmine:bdd
        testPath = "../../";
    }

    testPath += "test/js/";

    var requireConfig = {
        baseUrl: '$sourceDir$',
        paths: {
            'jquery': 'vendor/jquery',
            'underscore': 'vendor/underscore',
            'backbone': 'vendor/backbone',
            'hogan': 'vendor/hogan',
            'hgn': 'vendor/plugin/hgn',
            'text': 'vendor/plugin/text',
            'sinon': testPath + 'vendor/sinon-1.5.0',
            'jasmine_sinon': testPath + 'vendor/jasmine-sinon'
        },

        shim: {
            'underscore': {
                exports: '_'
            },
            'backbone': {
                deps: ['underscore', 'jquery'],
                exports: 'Backbone'
            },
            'sinon': {
                deps: ['jasmine_sinon'],
                exports: 'sinon'
            }
        }
    };

    require.config(requireConfig);

    require(specs, function() {
        window.reporter = new jasmine.$reporter$(); jasmine.getEnv().addReporter(reporter);
        jasmine.getEnv().execute();
    });
</script>
</body>
</html>